<div class="sidebar-left pt-5 col-2 d-none d-md-block ">
  <div class="sidebar-sticky pt-3">
    <% path = URI.parse(request.original_url).path.split('/').reject(&:empty?)  %>

    <% if user_signed_in? %>
      <ul class="nav flex-column px-3">
        <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if( (path.blank? || path.include?("photos")||path.include?("albums")) && !path.include?("users") && !path.include?("admin") && !path.include?("profile")) }") do %>
          <div class="d-flex align-items-center">
            <%= link_to "🐧 #{t('home')}", root_path, class: "nav-link "%>
          </div>
        <% end %>
        <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if(path.include?("users") && path.include?("posts")) }") do %>
          <div class="d-flex align-items-center">
            <%= link_to "🖋 #{t('user.post.object.user_post')}", posts_path, class: "nav-link " %>
          </div>
        <% end %>
        <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if(path.include?("users") && path.include?("photos")) }") do %>
          <div class="d-flex align-items-center">
            <%= link_to "📷 #{t('user.photo.object.user_photo')}", photos_path, class: "nav-link " %>
          </div>
        <% end %>
        <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if(path.include?("tags") )}") do %>
          <div class="d-flex align-items-center">
            <%= link_to "🏷 #{t('user.tag.tags')}", tags_path, class: "nav-link " %>
          </div>
        <% end %>
        <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if(path.include?("profile") && (path[1]==current_user.id.to_s))}") do %>
          <div class="d-flex align-items-center">
            <%= link_to "👤 #{t('user.profile.my_profile')}", view_photos_user_path(current_user.id), class: "nav-link " %>
          </div>
        <% end %>
        <%= content_tag(:li,class: "nav-item mt-3") do %>
          <div class="d-flex align-items-center">
            <p class="px-2">
              <i class="fa-brands fa-twitter fa-xl "></i>
            </p>
            <p class="px-2">
              <i class="fa-brands fa-square-facebook fa-xl"></i>
            </p>
            <p class="px-2">
              <i class="fa-brands fa-github fa-xl"></i>
            </p>
            <p class="px-2">
              <i class="fa-brands fa-square-instagram fa-xl"></i>
            </p>
            <p class="px-2">
              <i class="fa-brands fa-twitch fa-xl"></i>
            </p>
            <p class="px-2">
              <i class="fa-brands fa-tiktok fa-xl"></i>
            </p>
          </div>
        <% end %>

        <% if current_user.admin? %>
          <hr/>

          <h3 class="nav-title"> Admin</h3>
          <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if(path.include?("admin") && path.include?("users")) }") do %>
            <div class="d-flex align-items-center">
              <%= link_to "⚙ #{t('admin.user.user_management.management')}", admin_users_path, class: "nav-link " %>
            </div>
          <% end %>

          <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if(path.include?("admin") && path.include?("photos")) }") do %>
            <div class="d-flex align-items-center">
              <%= link_to "⚙ #{t('admin.photo.photo_management.management')}", admin_photos_path, class: "nav-link " %>
            </div>
          <% end %>
        <% end %>
      </ul>
    <% else %>
      <ul class="nav flex-column px-3">
        <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if( (path.blank? || path.include?("photos")||path.include?("albums")) && !path.include?("users") && !path.include?("admin")) }") do %>
          <div class="d-flex align-items-center">
            <%= link_to "🐧 #{t('home')}", root_path, class: "nav-link "%>
          </div>
        <% end %>
        <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if(path.include?("tag") )}") do %>
          <div class="d-flex align-items-center">
            <%= link_to "🏷 #{t('user.tag.tags')}", tags_path, class: "nav-link " %>
          </div>
        <% end %>
      </ul>
    <% end %>
  </div>
</div>

<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasExampleLabel">Tab Menu</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <% if user_signed_in? %>
      <ul class="nav flex-column px-3">
        <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if( (path.blank? || path.include?("photos")||path.include?("albums")) && !path.include?("users") && !path.include?("admin") && !path.include?("profile")) }") do %>
          <div class="d-flex align-items-center">
            <%= link_to "🐧 #{t('home')}", root_path, class: "nav-link "%>
          </div>
        <% end %>
        <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if(path.include?("users") && path.include?("posts")) }") do %>
          <div class="d-flex align-items-center">
            <%= link_to "🖋 #{t('user.post.object.user_post')}", posts_path, class: "nav-link " %>
          </div>
        <% end %>
        <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if(path.include?("users") && path.include?("photos")) }") do %>
          <div class="d-flex align-items-center">
            <%= link_to "📷 #{t('user.photo.object.user_photo')}", photos_path, class: "nav-link " %>
          </div>
        <% end %>
        <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if(path.include?("profile") && (path[1]==current_user.id.to_s))}") do %>
          <div class="d-flex align-items-center">
            <%= link_to "👤 #{t('user.profile.my_profile')}", view_photos_user_path(current_user.id), class: "nav-link " %>
          </div>
        <% end %>
        <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if(path.include?("tag") )}") do %>
          <div class="d-flex align-items-center">
            <%= link_to "🏷 #{t('user.tag.tags')}", "#", class: "nav-link " %>
          </div>
        <% end %>
        <% if current_user.admin? %>
          <hr/>

          <h3 class="nav-title"> Admin</h3>
          <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if(path.include?("admin") && path.include?("users")) }") do %>
            <div class="d-flex align-items-center">
              <%= link_to "⚙ #{t('admin.user.user_management.management')}", admin_users_path, class: "nav-link " %>
            </div>
          <% end %>

          <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if(path.include?("admin") && path.include?("photos")) }") do %>
            <div class="d-flex align-items-center">
              <%= link_to "⚙ #{t('admin.photo.photo_management.management')}", admin_photos_path, class: "nav-link " %>
            </div>
          <% end %>
        <% end %>
      </ul>
    <% else %>
      <ul class="nav flex-column px-3">
        <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if( (path.blank? || path.include?("photos")||path.include?("albums")) && !path.include?("users") && !path.include?("admin")) }") do %>
          <div class="d-flex align-items-center">
            <%= link_to "🐧 #{t('home')}", root_path, class: "nav-link "%>
          </div>
        <% end %>
        <%= content_tag(:li,class: "hover-animation-nav-item nav-item #{"active" if(path.include?("tag") )}") do %>
          <div class="d-flex align-items-center">
            <%= link_to "🏷 #{t('user.tag.tags')}", "#", class: "nav-link " %>
          </div>
        <% end %>
      </ul>
    <% end %>
  </div>
</div>
